*** Settings ***
Library           Selenium2Library
Resource          l2-elements.txt

*** Variables ***

*** Keywords ***
打开登录页
    Open Browser    ${LOGIN_URL}    ff
    验证页面标题    ${PAGETITLE_INDEX}

有效登录验证
    [Documentation]    登录成功时首页导航条出现金币，不包含登录入口
    Wait Until Page Contains Element    id=userbalance
    Page Should Not Contain Element    id=linklogin

有效登录退出
    Click Element    id=linkExit
    Wait Until Element Is Visible    ${login_locator1}
    验证页面标题    ${PAGETITLE_INDEX}

无效登录验证
    Page Should Not Contain Element    id=userbalance

无效登录退出
    Wait Until Element Is Visible    id=fancybox-content
    Click Link    ${close_locator}
    Wait Until Element Is Visible    ${login_locator1}
    验证页面标题    ${PAGETITLE_INDEX}

选择QQ授权登录
    Click Element    css=a.qqLogin
    Wait Until Element Is Visible    id=auth_manager_link
    Select Frame    id=ptlogin_iframe
    Click Element    id=switcher_plogin
    Wait Until Element Is Visible    id=u
    验证页面标题    QQ帐号安全登录

关闭浏览器
    Close Browser

搜索结果验证
    [Arguments]    ${search content}
    Element Should Contain    css=div.search_results_t    ${search content}
